<TRUNGDEPTRAI html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>H·ªçc ti·∫øng Trung c√πng Trung M·∫≠p</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #f0f8ff;
      padding: 20px;
      margin: 0;
      background: url("K33.png");
      background-size: cover;  
	background-repeat: no-repeat;
  background-position: center;
    }
    .card {
      background-color: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      display: inline-block;
      width: 90%;
      max-width: 500px;
    }
    h1 {
      color: #2c3e50;
    }
    .scoreboard {
      font-size: 18px;
      margin-bottom: 15px;
      color: #2c3e50;
    }
    .question {
      font-size: 28px;
      margin: 20px 0;
      color: #e67e22;
    }
    .options button {
      padding: 10px 20px;
      margin: 10px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      border: none;
      background-color: #3498db;
      color: white;
      width: 80%;
      max-width: 300px;
    }
    .options button:hover {
      background-color: #2980b9;
    }
    #result {
      margin-top: 20px;
      font-size: 20px;
    }
    #retryBtn {
      margin-top: 20px;
      display: none;
    }
  </style>
</head>
<body>
  <h1>üéÆ H·ªçc t·ª´ v·ª±ng HSK1 ‚Äì Ch·ªçn ƒë√∫ng nghƒ©a!</h1>
  <div class="scoreboard">
    üî¢ ƒêi·ªÉm hi·ªán t·∫°i: <span id="score">0</span> | üèÜ K·ª∑ l·ª•c: <span id="highscore">0</span>
  </div>
  <div class="card">
    <div class="question" id="word">...</div>
    <div class="options">
      <button onclick="checkAnswer(this)"></button>
      <button onclick="checkAnswer(this)"></button>
      <button onclick="checkAnswer(this)"></button>
    </div>
    <div id="result"></div>
    <button id="retryBtn" onclick="retryWrongWords()">Luy·ªán l·∫°i t·ª´ sai</button>
  </div>

  <script>
   const words = [
  { zh: "Áà±", vi: "Y√™u" },
  { zh: "ÂÖ´", vi: "T√°m" },
  { zh: "Áà∏Áà∏", vi: "B·ªë" },
  { zh: "ÊùØÂ≠ê", vi: "C√°i c·ªëc" },
  { zh: "Âåó‰∫¨", vi: "B·∫Øc Kinh" },
  { zh: "Êú¨", vi: "Quy·ªÉn (l∆∞·ª£ng t·ª´)" },
  { zh: "‰∏ç", vi: "Kh√¥ng" },
  { zh: "Ëèú", vi: "M√≥n ƒÉn, rau" },
  { zh: "Ëå∂", vi: "Tr√†" },
  { zh: "ÂêÉ", vi: "ƒÇn" },
  { zh: "Âá∫", vi: "Ra" },
  { zh: "Âá∫ÁßüËΩ¶", vi: "Xe taxi" },
  { zh: "ÊâìÁîµËØù", vi: "G·ªçi ƒëi·ªán tho·∫°i" },
  { zh: "Â§ß", vi: "To, l·ªõn" },
  { zh: "ÁöÑ", vi: "C·ªßa (tr·ª£ t·ª´)" },
  { zh: "ÁÇπ", vi: "Gi·ªù" },
  { zh: "ÁîµËÑë", vi: "M√°y t√≠nh" },
  { zh: "ÁîµËßÜ", vi: "Tivi" },
  { zh: "ÁîµÂΩ±", vi: "Phim" },
  { zh: "‰∏úË•ø", vi: "ƒê·ªì v·∫≠t" },
  { zh: "ÈÉΩ", vi: "ƒê·ªÅu" },
  { zh: "ËØª", vi: "ƒê·ªçc" },
  { zh: "ÂØπ‰∏çËµ∑", vi: "Xin l·ªói" },
  { zh: "Â§ö", vi: "Nhi·ªÅu" },
  { zh: "Â§öÂ∞ë", vi: "Bao nhi√™u" },
  { zh: "ÂÑøÂ≠ê", vi: "Con trai" },
  { zh: "‰∫å", vi: "Hai" },
  { zh: "È•≠Â∫ó", vi: "Nh√† h√†ng, kh√°ch s·∫°n" },
  { zh: "È£ûÊú∫", vi: "M√°y bay" },
  { zh: "ÂàÜÈíü", vi: "Ph√∫t" },
  { zh: "È´òÂÖ¥", vi: "Vui m·ª´ng" },
  { zh: "‰∏™", vi: "C√°i (l∆∞·ª£ng t·ª´)" },
  { zh: "Â∑•‰Ωú", vi: "C√¥ng vi·ªác" },
  { zh: "Áãó", vi: "Ch√≥" },
  { zh: "Ê±âËØ≠", vi: "Ti·∫øng Trung" },
  { zh: "Â•Ω", vi: "T·ªët" },
  { zh: "Âè∑", vi: "S·ªë, ng√†y" },
  { zh: "Âñù", vi: "U·ªëng" },
  { zh: "Âíå", vi: "V√†" },
  { zh: "Âæà", vi: "R·∫•t" },
  { zh: "ÂêéÈù¢", vi: "Ph√≠a sau" },
  { zh: "Âõû", vi: "Tr·ªü v·ªÅ" },
  { zh: "‰ºö", vi: "Bi·∫øt, c√≥ th·ªÉ" },
  { zh: "Âá†", vi: "M·∫•y" },
  { zh: "ÂÆ∂", vi: "Nh√†" },
  { zh: "Âè´", vi: "G·ªçi l√†" },
  { zh: "‰ªäÂ§©", vi: "H√¥m nay" },
  { zh: "‰πù", vi: "Ch√≠n" },
  { zh: "ÂºÄ", vi: "M·ªü" },
  { zh: "Áúã", vi: "Nh√¨n, xem" },
  { zh: "ÁúãËßÅ", vi: "Nh√¨n th·∫•y" },
  { zh: "Âùó", vi: "ƒê·ªìng (ti·ªÅn)" },
  { zh: "Êù•", vi: "ƒê·∫øn" },
  { zh: "ËÄÅÂ∏à", vi: "Gi√°o vi√™n" },
  { zh: "‰∫Ü", vi: "ƒê√£ (tr·ª£ t·ª´)" },
  { zh: "ÂÜ∑", vi: "L·∫°nh" },
  { zh: "Èáå", vi: "Trong" },
  { zh: "ÂÖ≠", vi: "S√°u" },
  { zh: "Â¶àÂ¶à", vi: "M·∫π" },
  { zh: "Âêó", vi: "Kh√¥ng? (tr·ª£ t·ª´ nghi v·∫•n)" },
  { zh: "‰π∞", vi: "Mua" },
  { zh: "Áå´", vi: "M√®o" },
  { zh: "Ê≤°ÂÖ≥Á≥ª", vi: "Kh√¥ng sao" },
  { zh: "Ê≤°Êúâ", vi: "Kh√¥ng c√≥" },
  { zh: "Á±≥È•≠", vi: "C∆°m" },
  { zh: "ÊòéÂ§©", vi: "Ng√†y mai" },
  { zh: "ÂêçÂ≠ó", vi: "T√™n" },
  { zh: "Âì™", vi: "N√†o" },
  { zh: "Âì™ÂÑø", vi: "·ªû ƒë√¢u" },
  { zh: "ÈÇ£", vi: "ƒê√≥, kia" },
  { zh: "ÈÇ£ÂÑø", vi: "Ch·ªó ƒë√≥" },
  { zh: "Âë¢", vi: "Th·∫ø c√≤n (tr·ª£ t·ª´)" },
  { zh: "ËÉΩ", vi: "C√≥ th·ªÉ" },
  { zh: "‰Ω†", vi: "B·∫°n" },
  { zh: "Âπ¥", vi: "NƒÉm" },
  { zh: "Â•≥ÂÑø", vi: "Con g√°i" },
  { zh: "ÊúãÂèã", vi: "B·∫°n b√®" },
  { zh: "ÊºÇ‰∫Æ", vi: "ƒê·∫πp" },
  { zh: "ËãπÊûú", vi: "T√°o" },
  { zh: "‰∏É", vi: "B·∫£y" },
  { zh: "Èí±", vi: "Ti·ªÅn" },
  { zh: "ÂâçÈù¢", vi: "Ph√≠a tr∆∞·ªõc" },
  { zh: "ËØ∑", vi: "M·ªùi, xin" },
  { zh: "Âéª", vi: "ƒêi" },
  { zh: "ÁÉ≠", vi: "N√≥ng" },
  { zh: "‰∫∫", vi: "Ng∆∞·ªùi" },
  { zh: "ËÆ§ËØÜ", vi: "Bi·∫øt (ai ƒë√≥)" },
  { zh: "‰∏â", vi: "Ba" },
  { zh: "ÂïÜÂ∫ó", vi: "C·ª≠a h√†ng" },
  { zh: "‰∏ä", vi: "Tr√™n" },
  { zh: "‰∏äÂçà", vi: "Bu·ªïi s√°ng" },
  { zh: "Â∞ë", vi: "√çt" },
  { zh: "Ë∞Å", vi: "Ai" },
  { zh: "‰ªÄ‰πà", vi: "C√°i g√¨" },
  { zh: "ÂçÅ", vi: "M∆∞·ªùi" },
  { zh: "Êó∂ÂÄô", vi: "Th·ªùi gian" },
  { zh: "ÊòØ", vi: "L√†" }
 ];
 
    let currentWord;
    let score = 0;
    let highscore = localStorage.getItem("hsk_highscore") || 0;
    let wrongWords = [];
    let isRetrying = false;
    let retryQueue = [];

    document.getElementById("highscore").innerText = highscore;

    function shuffle(array) {
      return array.sort(() => Math.random() - 0.5);
    }

    function nextQuestion() {
      document.getElementById("result").innerText = "";
      document.getElementById("retryBtn").style.display = wrongWords.length > 0 ? "block" : "none";

      let wordList = isRetrying ? retryQueue : words;
      currentWord = wordList[Math.floor(Math.random() * wordList.length)];

      const answers = [currentWord.vi];
      while (answers.length < 3) {
        const rand = words[Math.floor(Math.random() * words.length)].vi;
        if (!answers.includes(rand)) answers.push(rand);
      }
      shuffle(answers);

      document.getElementById("word").innerText = currentWord.zh;
      const buttons = document.querySelectorAll(".options button");
      buttons.forEach((btn, i) => {
        btn.innerText = answers[i];
        btn.disabled = false;
        btn.style.backgroundColor = "#3498db";
      });

      // Ph√°t √¢m
      const utterance = new SpeechSynthesisUtterance(currentWord.zh);
      utterance.lang = 'zh-CN';
      speechSynthesis.speak(utterance);
    }

    function checkAnswer(button) {
      const result = document.getElementById("result");
      const buttons = document.querySelectorAll(".options button");
      buttons.forEach(btn => btn.disabled = true);

      if (button.innerText === currentWord.vi) {
        result.innerText = "üéâ ƒê√∫ng r·ªìi!\nAnh Trung Khen B·∫°n!";
        result.style.color = "green";
        score++;
        document.getElementById("score").innerText = score;
        if (score > highscore) {
          highscore = score;
          localStorage.setItem("hsk_highscore", highscore);
          document.getElementById("highscore").innerText = highscore;
        }
      } else {
        result.innerText = `‚ùå Sai r·ªìi, ƒê·∫ßn √°c!\nƒê√°p √°n ƒë√∫ng: ${currentWord.vi}`;
        result.style.color = "red";
        if (!wrongWords.includes(currentWord)) {
          wrongWords.push(currentWord);
        }
        score = 0;
        document.getElementById("score").innerText = score;
      }

      setTimeout(nextQuestion, 2000);
    }

    function retryWrongWords() {
      isRetrying = true;
      retryQueue = [...wrongWords];
      wrongWords = [];
      nextQuestion();
    }

    nextQuestion();
  </script>
</body>
</html>
