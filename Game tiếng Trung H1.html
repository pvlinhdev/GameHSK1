<!Tieng trung html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>H·ªçc t·ª´ HSK1 c√πng Trung</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background-color: #f0f8ff;
      padding: 20px;
      margin: 0;
      background: url("K33.jpg");
      background-size: cover;  
	background-repeat: no-repeat;
  background-position: center;
    }
    .card {
      background-color: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      display: inline-block;
      width: 90%;
      max-width: 500px;
    }
    h1 {
      color: #2c3e50;
    }
    .scoreboard {
      font-size: 18px;
      margin-bottom: 15px;
      color: #2c3e50;
    }
    .question {
      font-size: 28px;
      margin: 20px 0;
      color: #e67e22;
    }
    .options button {
      padding: 10px 20px;
      margin: 10px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      border: none;
      background-color: #3498db;
      color: white;
      width: 80%;
      max-width: 300px;
    }
    .options button:hover {
      background-color: #2980b9;
    }
    #result {
      margin-top: 20px;
      font-size: 20px;
    }
    #retryBtn {
      margin-top: 20px;
      display: none;
    }
  </style>
</head>
<body>
  <h1>üéÆ H·ªçc t·ª´ v·ª±ng HSK1 ‚Äì Ch·ªçn ƒë√∫ng nghƒ©a!</h1>
  <div class="scoreboard">
    üî¢ ƒêi·ªÉm hi·ªán t·∫°i: <span id="score">0</span> | üèÜ K·ª∑ l·ª•c: <span id="highscore">0</span>
  </div>
  <div class="card">
    <div class="question" id="word">...</div>
    <div class="options">
      <button onclick="checkAnswer(this)"></button>
      <button onclick="checkAnswer(this)"></button>
      <button onclick="checkAnswer(this)"></button>
    </div>
    <div id="result"></div>
    <button id="retryBtn" onclick="retryWrongWords()">Luy·ªán l·∫°i t·ª´ sai</button>
  </div>

  <script>
    const words = [
      { zh: "‰Ω†Â•Ω", vi: "Xin ch√†o" }, { zh: "Ë∞¢Ë∞¢", vi: "C·∫£m ∆°n" }, { zh: "ÂÜçËßÅ", vi: "T·∫°m bi·ªát" },
      { zh: "ËØ∑", vi: "L√†m ∆°n" }, { zh: "ÊòØ", vi: "L√†" }, { zh: "‰∏ç", vi: "Kh√¥ng" },
      { zh: "Êúâ", vi: "C√≥" }, { zh: "Êàë", vi: "T√¥i" }, { zh: "‰Ω†", vi: "B·∫°n" },
      { zh: "‰ªñ", vi: "Anh ·∫•y" }, { zh: "Â•π", vi: "C√¥ ·∫•y" }, { zh: "Êàë‰ª¨", vi: "Ch√∫ng t√¥i" },
      { zh: "‰ªñ‰ª¨", vi: "H·ªç" }, { zh: "Ëøô", vi: "C√°i n√†y" }, { zh: "ÈÇ£", vi: "C√°i kia" },
      { zh: "Âì™", vi: "C√°i n√†o" }, { zh: "Ë∞Å", vi: "Ai" }, { zh: "‰ªÄ‰πà", vi: "C√°i g√¨" },
      { zh: "Â§öÂ∞ë", vi: "Bao nhi√™u" }, { zh: "Âá†", vi: "M·∫•y" }, { zh: "ÊÄé‰πà", vi: "Nh∆∞ th·∫ø n√†o" },
      { zh: "ÊÄé‰πàÊ†∑", vi: "Th·∫ø n√†o" }, { zh: "ÂñúÊ¨¢", vi: "Th√≠ch" }, { zh: "Áü•ÈÅì", vi: "Bi·∫øt" },
      { zh: "Áúã", vi: "Nh√¨n" }, { zh: "Âê¨", vi: "Nghe" }, { zh: "ËØ¥", vi: "N√≥i" },
      { zh: "ËØª", vi: "ƒê·ªçc" }, { zh: "ÂÜô", vi: "Vi·∫øt" }, { zh: "ÂêÉ", vi: "ƒÇn" },
      { zh: "Âñù", vi: "U·ªëng" }, { zh: "ÂÅö", vi: "L√†m" }, { zh: "‰π∞", vi: "Mua" },
      { zh: "ÂºÄ", vi: "M·ªü" }, { zh: "Âùê", vi: "Ng·ªìi" }, { zh: "‰Ωè", vi: "S·ªëng ·ªü" },
      { zh: "Â≠¶", vi: "H·ªçc" }, { zh: "Â∑•‰Ωú", vi: "C√¥ng vi·ªác" }, { zh: "Â≠¶‰π†", vi: "H·ªçc t·∫≠p" },
      { zh: "Â≠¶Ê†°", vi: "Tr∆∞·ªùng h·ªçc" }, { zh: "ËÄÅÂ∏à", vi: "Gi√°o vi√™n" }, { zh: "Â≠¶Áîü", vi: "H·ªçc sinh" },
      { zh: "ÊúãÂèã", vi: "B·∫°n b√®" }, { zh: "ÂÆ∂", vi: "Gia ƒë√¨nh" }, { zh: "Áà∏Áà∏", vi: "B·ªë" },
      { zh: "Â¶àÂ¶à", vi: "M·∫π" }, { zh: "ÂÑøÂ≠ê", vi: "Con trai" }, { zh: "Â•≥ÂÑø", vi: "Con g√°i" },
      { zh: "ÂåªÁîü", vi: "B√°c sƒ©" }, { zh: "ÂåªÈô¢", vi: "B·ªánh vi·ªán" }, { zh: "ÂïÜÂ∫ó", vi: "C·ª≠a h√†ng" }
      // C√≥ th·ªÉ th√™m ti·∫øp n·∫øu b·∫°n mu·ªën ƒë·ªß 150 t·ª´
    ];


    let currentWord;
    let score = 0;
    let highscore = localStorage.getItem("hsk_highscore") || 0;
    let wrongWords = [];
    let isRetrying = false;
    let retryQueue = [];

    document.getElementById("highscore").innerText = highscore;

    function shuffle(array) {
      return array.sort(() => Math.random() - 0.5);
    }

    function nextQuestion() {
      document.getElementById("result").innerText = "";
      document.getElementById("retryBtn").style.display = wrongWords.length > 0 ? "block" : "none";

      let wordList = isRetrying ? retryQueue : words;
      currentWord = wordList[Math.floor(Math.random() * wordList.length)];

      const answers = [currentWord.vi];
      while (answers.length < 3) {
        const rand = words[Math.floor(Math.random() * words.length)].vi;
        if (!answers.includes(rand)) answers.push(rand);
      }
      shuffle(answers);

      document.getElementById("word").innerText = currentWord.zh;
      const buttons = document.querySelectorAll(".options button");
      buttons.forEach((btn, i) => {
        btn.innerText = answers[i];
        btn.disabled = false;
        btn.style.backgroundColor = "#3498db";
      });

      // Ph√°t √¢m
      const utterance = new SpeechSynthesisUtterance(currentWord.zh);
      utterance.lang = 'zh-CN';
      speechSynthesis.speak(utterance);
    }

    function checkAnswer(button) {
      const result = document.getElementById("result");
      const buttons = document.querySelectorAll(".options button");
      buttons.forEach(btn => btn.disabled = true);

      if (button.innerText === currentWord.vi) {
        result.innerText = "üéâ Anh Trung Khen B·∫°n!";
        result.style.color = "green";
        score++;
        document.getElementById("score").innerText = score;
        if (score > highscore) {
          highscore = score;
          localStorage.setItem("hsk_highscore", highscore);
          document.getElementById("highscore").innerText = highscore;
        }
      } else {
        result.innerText = `‚ùå Sai r·ªìi, ƒê·∫ßn √°c!\nƒê√°p √°n ƒë√∫ng: ${currentWord.vi}`;
        result.style.color = "red";
        if (!wrongWords.includes(currentWord)) {
          wrongWords.push(currentWord);
        }
        score = 0;
        document.getElementById("score").innerText = score;
      }

      setTimeout(nextQuestion, 2000);
    }

    function retryWrongWords() {
      isRetrying = true;
      retryQueue = [...wrongWords];
      wrongWords = [];
      nextQuestion();
    }

    nextQuestion();
  </script>
</body>
</html>
